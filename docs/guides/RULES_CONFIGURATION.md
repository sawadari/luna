# Rules Configuration Guide

äººé–“-AIè²¬ä»»åˆ†ç•Œãƒ«ãƒ¼ãƒ«ã®è¨­å®šã‚¬ã‚¤ãƒ‰

---

## ğŸ“– æ¦‚è¦

Lunaã¯`rules-config.yaml`ãƒ•ã‚¡ã‚¤ãƒ«ã§äººé–“-AIè²¬ä»»åˆ†ç•Œã®ãƒ«ãƒ¼ãƒ«ã‚’ä¸€å…ƒç®¡ç†ã—ã¾ã™ã€‚ã“ã®ãƒ•ã‚¡ã‚¤ãƒ«ã«ã‚ˆã‚Šã€ã©ã®åˆ¤æ–­ã‚’äººé–“ãŒè¡Œã„ã€ã©ã®åˆ¤æ–­ã‚’AIãŒè¡Œã†ã‹ã‚’æ˜ç¢ºã«å®šç¾©ã§ãã¾ã™ã€‚

### ä¸»ãªæ©Ÿèƒ½

- **ä¸€å…ƒç®¡ç†**: å…¨ã¦ã®ãƒ«ãƒ¼ãƒ«ãŒ1ãƒ•ã‚¡ã‚¤ãƒ«ã§ç®¡ç†ã•ã‚Œã‚‹
- **ç†ç”±ã®æ˜è¨˜**: å„ãƒ«ãƒ¼ãƒ«ã«`rationale`ï¼ˆç†ç”±ï¼‰ãŒè¨˜éŒ²ã•ã‚Œã‚‹
- **å¤‰æ›´å±¥æ­´**: ãƒ«ãƒ¼ãƒ«å¤‰æ›´ãŒ`change_history`ã«è¨˜éŒ²ã•ã‚Œã‚‹
- **å¾Œæ–¹äº’æ›æ€§**: ç’°å¢ƒå¤‰æ•°ã¸ã®ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯å¯¾å¿œ
- **ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³**: è¨­å®šãƒŸã‚¹ã‚’è‡ªå‹•æ¤œå‡º

---

## ğŸ§  ç†è«–çš„åŸºç›¤

### ãªãœãƒ«ãƒ¼ãƒ«ç®¡ç†ãŒå¿…è¦ãªã®ã‹

Lunaã¯**çŸ¥è­˜å‰µé€ ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ **ã§ã‚ã‚Šã€å˜ãªã‚‹é–‹ç™ºè‡ªå‹•åŒ–ãƒ„ãƒ¼ãƒ«ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚çŸ¥è­˜å‰µé€ ã«ã¯ä»¥ä¸‹ã®3ã¤ã®æ ¸å¿ƒçš„ãªå•é¡ŒãŒã‚ã‚Šã¾ã™ï¼š

1. **å•é¡Œç©ºé–“ã®åˆ¤æ–­**ï¼šå®Ÿè£…ã™ã‚‹ä¾¡å€¤ãŒã‚ã‚‹ã®ã‹ï¼Ÿï¼ˆDESTç†è«–ï¼‰
2. **è§£æ±ºç­–ã®æ¢ç´¢**ï¼šã©ã†å®Ÿè£…ã™ã‚‹ã®ãŒæœ€é©ã‹ï¼Ÿï¼ˆPlanning Layerï¼‰
3. **çŸ¥è­˜ã®åæŸ**ï¼šå®Ÿè£…çµæœã‚’ã©ã†è“„ç©ãƒ»çµ±æ²»ã™ã‚‹ã‹ï¼Ÿï¼ˆSSOT Layerï¼‰

ã“ã‚Œã‚‰ã®å•é¡Œã«å¯¾ã—ã¦ã€**äººé–“ã¨AIã®ã©ã¡ã‚‰ãŒè²¬ä»»ã‚’æŒã¤ã¹ãã‹**ã‚’æ˜ç¢ºã«ã™ã‚‹ã®ãŒãƒ«ãƒ¼ãƒ«ç®¡ç†ã®ç›®çš„ã§ã™ã€‚

### DESTç†è«–ï¼šä¿è¨¼ãƒ¬ãƒ™ãƒ«ï¼ˆAssurance Levelï¼‰ã®å¿…è¦æ€§

**DESTï¼ˆDecision-Embedded Systems Thinking: åˆ¤æ–­å†…è”µã‚·ã‚¹ãƒ†ãƒ æ€è€ƒï¼‰**ã¯ã€ã‚·ã‚¹ãƒ†ãƒ ä»‹å…¥ã®è‰¯å¦ã‚’åˆ¤å®šã™ã‚‹ç†è«–ã§ã™ã€‚

#### 2è»¸è©•ä¾¡ã®åŸç†

ã‚·ã‚¹ãƒ†ãƒ ä»‹å…¥ã¯ä»¥ä¸‹ã®2è»¸ã§è©•ä¾¡ã•ã‚Œã¾ã™ï¼š

- **Outcomeï¼ˆæˆæœè»¸ï¼‰**: ç›®çš„ã«è¿‘ã¥ã„ã¦ã„ã‚‹ã‹ï¼ˆå€¤ã‚ˆã‚Šå‚¾å‘ï¼‰
- **Safetyï¼ˆå®‰å…¨è»¸ï¼‰**: æš´èµ°ãƒ»å¢—å¹…ã®å…†å€™ãŒãªã„ã‹ï¼ˆæœ€ä½ãƒ©ã‚¤ãƒ³ï¼‰

ã“ã®2è»¸ã‹ã‚‰**ä¿è¨¼ãƒ¬ãƒ™ãƒ«ï¼ˆAL: Assurance Levelï¼‰**ãŒæ±ºå®šã•ã‚Œã¾ã™ï¼š

| AL | åç§° | æ¡ä»¶ | æ„å‘³ | ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ |
|----|------|------|------|-----------|
| **AL2** | Assured | outcome_ok **AND** safety_ok | ä¿è¨¼æˆç«‹ | âœ… ãƒ‡ãƒ—ãƒ­ã‚¤è¨±å¯ |
| **AL1** | Qualified | outcome_ok **OR** safety_okï¼ˆä¸¡æ–¹æˆç«‹ã‹ã¤ä¸ç¢ºå®Ÿæ€§é«˜ï¼‰ | æ¡ä»¶ä»˜ãä¿è¨¼ | âš ï¸ æ³¨æ„æ·±ãç›£è¦– |
| **AL0** | Not Assured | **NOT** safety_ok | ä¿è¨¼ãªã— | ğŸš« å®Ÿè£…ãƒ–ãƒ­ãƒƒã‚¯ |

**é‡è¦**: SafetyãŒç¬¬ä¸€ã‚²ãƒ¼ãƒˆã§ã™ã€‚safetyãŒNGã®å ´åˆã€outcomeã«é–¢ä¿‚ãªãå¿…ãšAL0ã«ãªã‚Šã¾ã™ã€‚

#### ãªãœALåˆ¤å®šãŒäººé–“ã®è²¬ä»»ãªã®ã‹

`rules-config.yaml`ã§ã¯ã€DEST judgmentã‚’ä»¥ä¸‹ã®ã‚ˆã†ã«è¨­å®šã—ã¦ã„ã¾ã™ï¼š

```yaml
dest_judgment:
  enabled: true
  rationale: "Issueå®Ÿè£…å‰ã®ä¾¡å€¤åˆ¤æ–­ã¯äººé–“ã®è²¬ä»»ç¯„å›²ã€‚ç„¡é§„ãªå®Ÿè£…ã‚’é˜²ããƒªã‚½ãƒ¼ã‚¹ã‚’æœ€é©åŒ–ã™ã‚‹ã€‚"
```

**ç†è«–çš„æ ¹æ‹ **:
- **ä¾¡å€¤åˆ¤æ–­ã¯æ–‡è„ˆä¾å­˜**: ä¾¡å€¤ã¯å¸‚å ´ãƒ»æ–‡åŒ–ãƒ»æ™‚é–“ãƒ»çµ„ç¹”ã«ã‚ˆã£ã¦å¤‰åŒ–ã—ã¾ã™ï¼ˆPlanning Layerå…¬ç†A4ï¼‰
- **è²¬ä»»ä¸»ä½“ã®å¿…é ˆæ€§**: æ„æ€æ±ºå®šã«ã¯è²¬ä»»ä¸»ä½“ãŒå¿…é ˆã§ã™ï¼ˆPlanning Layerå…¬ç†A8ï¼‰
- **ç‰©ç†çš„çœŸå®Ÿã¨ä¾¡å€¤ã®åˆ†é›¢**: ç‰©ç†çš„åˆ¶ç´„ï¼ˆäº¤æ¸‰ä¸å¯èƒ½ï¼‰ã¨ä¾¡å€¤åˆ¤æ–­ï¼ˆäº¤æ¸‰å¯èƒ½ï¼‰ã‚’æ··åŒã—ã¦ã¯ã„ã‘ã¾ã›ã‚“

AIã¯æŠ€è¡“çš„æˆç«‹æ€§ã‚’è©•ä¾¡ã§ãã¾ã™ãŒã€**ãƒ“ã‚¸ãƒã‚¹ä¾¡å€¤ãƒ»æˆ¦ç•¥æ•´åˆãƒ»ã‚¹ãƒ†ãƒ¼ã‚¯ãƒ›ãƒ«ãƒ€ãƒ¼å½±éŸ¿**ã®æœ€çµ‚åˆ¤æ–­ã¯äººé–“ãŒè¡Œã†å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚

#### AL0 Reasonã¨æ¨™æº–å‡¦æ–¹

AL0ã¨åˆ¤å®šã•ã‚ŒãŸå ´åˆã€**å¤±æ•—ãƒ‘ã‚¿ãƒ¼ãƒ³ï¼ˆR01-R11ï¼‰**ã‚’ç‰¹å®šã—ã€**æ¨™æº–å‡¦æ–¹ï¼ˆP0-P4ï¼‰**ã«å¾“ã„ã¾ã™ï¼š

**Protocolå„ªå…ˆé †ä½**:
- **P0**: ç ´å£Šçš„å¢—å¹…ã‚’æ­¢ã‚ã‚‹ï¼ˆé€£æ‰“/ç‡ƒæ–™é®æ–­/åˆ¶å¾¡å¾©å…ƒï¼‰
- **P1**: è¦³æ¸¬ã‚’ç›´ã™ï¼ˆæƒ…å ±ãƒ•ãƒ­ãƒ¼ï¼‰
- **P2**: é…ã‚Œã¨ä»‹å…¥ã®æ•´åˆã‚’å–ã‚‹ï¼ˆWait/Freeze/å¤‰åŒ–é€Ÿåº¦ã®èª¿æ•´ï¼‰
- **P3**: ä½ãƒ¬ãƒãƒ¬ãƒƒã‚¸åé‡ã‚’æ­¢ã‚ã‚‹ï¼ˆãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿èª¿æ•´ã®ã¿ç¦æ­¢ï¼‰
- **P4**: ãã‚Œã§ã‚‚ãƒ€ãƒ¡ãªã‚‰ä¸Šä½ä»‹å…¥ï¼ˆç›®çš„/å‰æï¼‰ã¸ã‚¨ã‚¹ã‚«ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³

### Planning Layerï¼šæ„æ€æ±ºå®šã¨è©•ä¾¡ã®åˆ†é›¢

**Planning Layer**ã¯ã€ä¾¡å€¤ãƒ»é¸æŠè‚¢é›†åˆãƒ»åˆ¶ç´„ã‚’ã‚‚ã¨ã«ã€æ¡å¦ãƒ»å»¶æœŸãƒ»æ¢ç´¢ç¶™ç¶šã®æ„æ€æ±ºå®šã‚’ç”Ÿæˆã—ã¾ã™ã€‚

#### æ ¸å¿ƒçš„ãªå…¬ç†

1. **A5: è©•ä¾¡ã¨æ±ºå®šã®åˆ†é›¢**
   - è©•ä¾¡ï¼ˆæ¸¬ã‚‹/æ¨å®šï¼‰ã¨æ±ºå®šï¼ˆé¸ã¶ï¼‰ã¯åˆ†é›¢ã•ã‚Œã¾ã™
   - AIã¯è©•ä¾¡ã‚’æ”¯æ´ã§ãã¾ã™ãŒã€æ±ºå®šã¯äººé–“ãŒè¡Œã„ã¾ã™

2. **A6: å‰µé€ æ€§ã¯é€¸è„±ã‚’å«ã‚€**
   - å‰µé€ æ€§ã¯é€¸è„±ã‚’å«ã¿ã¾ã™
   - é€¸è„±ã®å‹ã¯æœ‰é™é›†åˆã§ç®¡ç†ã—ã¾ã™ï¼ˆä¾‹å¤–ç®¡ç†ï¼‰

3. **A7: å†è©•ä¾¡ã¯åˆ¶å¾¡ã•ã‚Œã‚‹**
   - å†è©•ä¾¡ã¯åŸå‰‡ã™ã¹ã¦å¯¾è±¡ã§ã™ãŒã€ãƒˆãƒªã‚¬ãƒ¼ã¨å½±éŸ¿ç¯„å›²ã§åˆ¶å¾¡ã—ã¾ã™
   - ç„¡é™å†è©•ä¾¡ã‚’é˜²ãã¾ã™

#### ãªãœCREPS GatesãŒå¿…è¦ãªã®ã‹

`rules-config.yaml`ã§ã¯ï¼š

```yaml
planning_layer:
  creps_gates:
    enabled: true
    threshold: 70  # 70ç‚¹ä»¥ä¸‹ã¯äººé–“ãƒ¬ãƒ“ãƒ¥ãƒ¼å¿…è¦
```

**ç†è«–çš„æ ¹æ‹ **:
- **å“è³ªã®æ‰‹ç¶šãåŒ–**: ã‚²ãƒ¼ãƒˆã§ã€Œå…ˆã«é€²ã‚ãªã„ã€ã‚’æ˜æ–‡åŒ–ã—ã€å“è³ªã‚’ä¿è¨¼ã—ã¾ã™
- **Real/Thinkingåˆ†é›¢**: å¯¾è±¡/ä¸»ä½“ã€ç¾å®Ÿ/ãƒ¢ãƒ‡ãƒ«ã®æ··ç·šã‚’ç¦æ­¢ã—ã¾ã™
- **å†ç¾å¯èƒ½ãªè¨˜éŒ²**: B1..B6ã‚’ã‚±ãƒ¼ã‚¹ãƒ¬ã‚³ãƒ¼ãƒ‰ï¼ˆå†ç¾å¯èƒ½ãªçŠ¶æ…‹ï¼‰ã¨ã—ã¦ä¿å­˜ã—ã¾ã™

CrePS 6-Boxï¼ˆB1-B6ï¼‰ã¨ã‚²ãƒ¼ãƒˆï¼ˆG2-G6ï¼‰ã¯ã€**æ¡ˆä»¶é‹ç”¨OS**ã¨ã—ã¦æ©Ÿèƒ½ã—ã¾ã™ã€‚

### SSOT Layerï¼šåæŸã¨çµ±æ²»ã®ç†è«–

**SSOTï¼ˆSingle Source of Truthï¼‰Layer**ã¯ã€Planning Layerã§ç”Ÿæˆã•ã‚ŒãŸDecisionRecordã‚’æ ¸ï¼ˆKernelï¼‰ã«å›ºå®šã—ã€å¢ƒç•Œãƒ»å¤–ä¹±ä¸‹ã§ã‚‚ä¸å¤‰æ¡ä»¶ã¨ãƒˆãƒ¬ãƒ¼ã‚µãƒ“ãƒªãƒ†ã‚£ã‚’ä¿ã£ã¦åå¾©åæŸã•ã›ã¾ã™ã€‚

#### SSOTã¯ãƒ‡ãƒ¼ã‚¿ã§ã¯ãªããƒ—ãƒ­ãƒˆã‚³ãƒ«

```
SSOT â‰  å˜ä¸€ãƒ‡ãƒ¼ã‚¿ç½®ãå ´
SSOT = æ ¸ãƒ»å¤‰æ›è¦å‰‡ãƒ»çŠ¶æ…‹é·ç§»ãƒ»ä¸å¤‰æ¡ä»¶ãƒ»ç›£æŸ»å¯èƒ½æ€§ã‚’å«ã‚€çµ±æ²»æ§‹é€ 
```

**æ ¸å¿ƒçš„ãªåŸç†**:
- **æƒ…å ±ãƒœãƒˆãƒ«ãƒãƒƒã‚¯**: æ ¸Kã¯æƒ…å ±ãƒœãƒˆãƒ«ãƒãƒƒã‚¯ã¨ã—ã¦æŒ¯ã‚‹èˆã„ã€ä¿æŒæƒ…å ±ã¨é‹ç”¨ã‚³ã‚¹ãƒˆã®ãƒˆãƒ¬ãƒ¼ãƒ‰ã‚ªãƒ•ã‚’æ”¯é…ã—ã¾ã™
- **å¤–ä¹±ã®å¸å**: å¤–ä¹±ï¼ˆè¦æ±‚å¤‰æ›´ãƒ»çµ„ç¹”åœ§ãƒ»æœŸé™çŸ­ç¸®ãƒ»AIç”Ÿæˆç‰©æ··å…¥ç­‰ï¼‰ã¯æ’é™¤å¯¾è±¡ã§ã¯ãªãã€çŠ¶æ…‹é·ç§»ã¨ã—ã¦å¸åã—ã¾ã™
- **ç›£æŸ»å¯èƒ½æ€§**: è¦æ±‚â†”è¨­è¨ˆâ†”æ¤œè¨¼â†”è¨¼æ‹ ã®é€£é–ãŒå…±æœ‰æ ¸ã§æ¤œè¨¼ã§ãã¾ã™

#### ãªãœKernelæˆç†Ÿåº¦é·ç§»ã«äººé–“æ‰¿èªãŒå¿…è¦ãªã®ã‹

`rules-config.yaml`ã§ã¯ï¼š

```yaml
kernel_generation:
  maturity_transition:
    auto_promote: false  # è‡ªå‹•æ˜‡æ ¼ã¯ç„¡åŠ¹
    require_approval:
      - "under_review -> agreed"
      - "agreed -> frozen"
```

**ç†è«–çš„æ ¹æ‹ **:
- **çŠ¶æ…‹é·ç§»ã®æ¨©é™åˆ†é›¢**: æˆç†Ÿåº¦çŠ¶æ…‹é·ç§»ã®æ¨©é™ã¯ã€é·ç§»æ®µéšã”ã¨ã«ãƒ­ãƒ¼ãƒ«ã§åˆ†é›¢ã—ã¾ã™
- **è²¬ä»»ã®æ˜ç¢ºåŒ–**: å„é·ç§»ã«è²¬ä»»ä¸»ä½“ï¼ˆrole.product_ownerã€role.ssot_reviewerï¼‰ãŒå¿…è¦ã§ã™
- **ç›£æŸ»é©åˆæ€§**: èª°ãŒãƒ»ã„ã¤ãƒ»ãªãœæ‰¿èªã—ãŸã‹ãŒè¨˜éŒ²ã•ã‚Œã€ç›£æŸ»é€£é–ãŒæˆç«‹ã—ã¾ã™

#### ãªãœã‚³ãƒ¼ãƒ‰ç”Ÿæˆå¾Œã«äººé–“ãƒ¬ãƒ“ãƒ¥ãƒ¼ãŒå¿…é ˆãªã®ã‹

`rules-config.yaml`ã§ã¯ï¼š

```yaml
code_generation:
  quality_threshold: 80  # 80ç‚¹ä»¥ä¸Šã§åˆæ ¼

review_required:
  enabled: true
  rationale: "ç”Ÿæˆã‚³ãƒ¼ãƒ‰ã¯å¿…ãšäººé–“ãŒãƒ¬ãƒ“ãƒ¥ãƒ¼ã€‚å“è³ªä¿è¨¼ã®æœ€çµ‚è²¬ä»»ã¯äººé–“ã€‚"
```

**ç†è«–çš„æ ¹æ‹ **:
- **AIç”Ÿæˆç‰©ã®éš”é›¢**: `source_type=ai_generated`ã¯`verification_status=verified`ã«ãªã‚‹ã¾ã§Kernelç¬¬ä¸€ç´šè¦ç´ ã¸æ˜‡æ ¼ç¦æ­¢ã§ã™
- **Evidence Governance**: AIç”Ÿæˆç‰©ã¯è¨¼æ‹ ã¨ã—ã¦æ‰±ã‚ã‚Œã€æ¤œè¨¼ãƒ—ãƒ­ã‚»ã‚¹ã‚’çµŒã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™
- **å“è³ªä¿è¨¼ã®è²¬ä»»**: å“è³ªä¿è¨¼ã®æœ€çµ‚è²¬ä»»ã¯äººé–“ãŒè² ã„ã¾ã™

### äººé–“-AIè²¬ä»»åˆ†ç•Œã®3åŸå‰‡

Lunaã®ãƒ«ãƒ¼ãƒ«è¨­å®šã¯ã€ä»¥ä¸‹ã®3åŸå‰‡ã«åŸºã¥ã„ã¦ã„ã¾ã™ï¼š

#### åŸå‰‡1: ä¾¡å€¤åˆ¤æ–­ã¯äººé–“ã€æŠ€è¡“è©•ä¾¡ã¯AI

- **äººé–“**: ãƒ“ã‚¸ãƒã‚¹ä¾¡å€¤ã€æˆ¦ç•¥æ•´åˆã€ã‚¹ãƒ†ãƒ¼ã‚¯ãƒ›ãƒ«ãƒ€ãƒ¼å½±éŸ¿ã®æœ€çµ‚åˆ¤æ–­
- **AI**: æŠ€è¡“çš„æˆç«‹æ€§ã€ã‚³ãƒ¼ãƒ‰å“è³ªã€ãƒ†ã‚¹ãƒˆã‚«ãƒãƒ¬ãƒƒã‚¸ã®è©•ä¾¡

#### åŸå‰‡2: æ±ºå®šã¯äººé–“ã€è©•ä¾¡ã¯AIæ”¯æ´

- **äººé–“**: DecisionRecordç™ºè¡Œã€ä¾‹å¤–æ‰¿èªã€Maturityé·ç§»æ‰¿èª
- **AI**: EvaluationRecordç”Ÿæˆã€å“è³ªã‚¹ã‚³ã‚¢ç®—å‡ºã€å½±éŸ¿åˆ†æ

#### åŸå‰‡3: ç›£æŸ»å¯èƒ½æ€§ã®ä¿è¨¼ã¯äººé–“

- **äººé–“**: ç›£æŸ»é€£é–ã®æœ€çµ‚ç¢ºèªã€è¨¼è·¡æ•´åˆã®çµ±åˆ¶ã€è²¬ä»»ä¸»ä½“ã®æ˜ç¢ºåŒ–
- **AI**: è¨¼è·¡ã®è‡ªå‹•ç”Ÿæˆã€ãƒªãƒ³ã‚¯æ•´åˆæ€§ãƒã‚§ãƒƒã‚¯ã€é•åæ¤œå‡º

---

## ğŸ“ ãƒ•ã‚¡ã‚¤ãƒ«æ§‹é€ 

```
luna/
â”œâ”€â”€ rules-config.yaml          # ãƒ«ãƒ¼ãƒ«è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆãƒ¡ã‚¤ãƒ³ï¼‰
â”œâ”€â”€ .env                       # ç’°å¢ƒå¤‰æ•°ï¼ˆå¾Œæ–¹äº’æ›æ€§ï¼‰
â””â”€â”€ RULES_CONFIGURATION.md     # ã“ã®ãƒ•ã‚¡ã‚¤ãƒ«
```

---

## âš™ï¸ rules-config.yaml ã®æ§‹é€ 

### 1. Metaæƒ…å ±

```yaml
meta:
  version: "1.0"
  last_updated: "2026-01-16T15:30:00Z"
  last_updated_by: "System"
  description: "Luna Human-AI Responsibility Boundary Rules Configuration"
```

### 2. äººé–“-AIè²¬ä»»åˆ†ç•Œ (`human_ai_boundary`)

Lunaã®9ãƒ•ã‚§ãƒ¼ã‚ºãã‚Œãã‚Œã«ã¤ã„ã¦ã€äººé–“-AIè²¬ä»»åˆ†ç•Œã‚’å®šç¾©ã—ã¾ã™ã€‚

#### Phase 0: DEST Judgmentï¼ˆå•é¡Œç©ºé–“åˆ†æï¼‰

```yaml
dest_judgment:
  enabled: true
  rationale: "Issueå®Ÿè£…å‰ã®ä¾¡å€¤åˆ¤æ–­ã¯äººé–“ã®è²¬ä»»ç¯„å›²"

  al_threshold:
    block_below: "AL0"        # AL0: å®Ÿè£…ãƒ–ãƒ­ãƒƒã‚¯
    require_approval: "AL1"   # AL1: äººé–“æ‰¿èªå¿…è¦
    auto_proceed: "AL2"       # AL2ä»¥ä¸Š: è‡ªå‹•é€²è¡Œ
```

**ãªãœã“ã®ãƒ«ãƒ¼ãƒ«ãŒå­˜åœ¨ã™ã‚‹ã®ã‹**:

1. **ç„¡é§„ãªå®Ÿè£…ã®é˜²æ­¢**: AL0ã®Issueã‚’å®Ÿè£…ã™ã‚‹ã¨ã€ãƒªã‚½ãƒ¼ã‚¹ãŒæµªè²»ã•ã‚Œã¾ã™ã€‚DESTåˆ¤å®šã«ã‚ˆã‚Šã€å•é¡Œç©ºé–“ï¼ˆWhy/Whatï¼‰ã‚’æ˜ç¢ºã«ã—ã¦ã‹ã‚‰è§£æ±ºç­–ç©ºé–“ï¼ˆHowï¼‰ã«é€²ã¿ã¾ã™ã€‚

2. **Safetyãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆ**: `safety_ok`ãŒNGã®å ´åˆã€`outcome_ok`ã«é–¢ä¿‚ãªãå¿…ãšAL0ã«ãªã‚Šã¾ã™ã€‚ã“ã‚Œã¯ã€ã‚·ã‚¹ãƒ†ãƒ æ€è€ƒã«ãŠã‘ã‚‹ã€Œæš´èµ°ãƒ»å¢—å¹…ã®å…†å€™ã€ã‚’æœ€å„ªå…ˆã§é˜²ããŸã‚ã§ã™ã€‚

3. **ä¾¡å€¤ã®æ–‡è„ˆä¾å­˜æ€§**: ä¾¡å€¤ã¯å¸‚å ´ãƒ»æ–‡åŒ–ãƒ»æ™‚é–“ãƒ»çµ„ç¹”ã«ã‚ˆã£ã¦å¤‰åŒ–ã—ã¾ã™ï¼ˆPlanning Layerå…¬ç†A4ï¼‰ã€‚AIã¯æŠ€è¡“çš„æˆç«‹æ€§ã‚’è©•ä¾¡ã§ãã¾ã™ãŒã€ãƒ“ã‚¸ãƒã‚¹ä¾¡å€¤ã®æœ€çµ‚åˆ¤æ–­ã¯äººé–“ãŒè¡Œã†å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚

4. **ALé–¾å€¤ã®æ„å‘³**:
   - **block_below: AL0**: å®‰å…¨æ€§ãŒç¢ºä¿ã•ã‚Œã¦ã„ãªã„ãŸã‚ã€å®Ÿè£…ã‚’å®Œå…¨ã«ãƒ–ãƒ­ãƒƒã‚¯ã—ã¾ã™
   - **require_approval: AL1**: æ¡ä»¶ä»˜ãä¿è¨¼ã®ãŸã‚ã€äººé–“ãŒæœ€çµ‚åˆ¤æ–­ã—ã¾ã™
   - **auto_proceed: AL2**: æˆæœãƒ»å®‰å…¨ã®ä¸¡æ–¹ãŒç¢ºä¿ã•ã‚Œã¦ã„ã‚‹ãŸã‚ã€è‡ªå‹•é€²è¡Œã‚’è¨±å¯ã—ã¾ã™

**ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºä¾‹**:
```yaml
# ã‚ˆã‚Šå³æ ¼ãªè¨­å®šï¼ˆAL3ä»¥ä¸Šã®ã¿è‡ªå‹•é€²è¡Œï¼‰
al_threshold:
  auto_proceed: "AL3"  # ã‚ˆã‚Šé«˜ã„ä¿è¨¼ãƒ¬ãƒ™ãƒ«ã‚’è¦æ±‚
```

**ç†è«–çš„èƒŒæ™¯**: DESTç†è«–ã§ã¯ã€Problem Spaceï¼ˆå•é¡Œç©ºé–“ï¼‰ã¨Solution Spaceï¼ˆè§£æ±ºç­–ç©ºé–“ï¼‰ã‚’æ˜ç¢ºã«åˆ†é›¢ã—ã¾ã™ã€‚DESTåˆ¤å®šã¯ Problem Space ã«ãŠã‘ã‚‹æœ€åˆã®æ„æ€æ±ºå®šã§ã‚ã‚Šã€ã€Œå®Ÿè£…ã™ã‚‹ä¾¡å€¤ãŒã‚ã‚‹ã‹ã€ã‚’åˆ¤æ–­ã—ã¾ã™ã€‚

#### Phase 1: Planning Layerï¼ˆè§£æ±ºç­–æ¢ç´¢ï¼‰

```yaml
planning_layer:
  enabled: true
  rationale: "è§£æ±ºç­–æ¢ç´¢ã¯äººé–“ã®æ„æ€æ±ºå®šæ”¯æ´ãŒå¿…è¦"

  creps_gates:
    enabled: true
    threshold: 70  # 70ç‚¹ä»¥ä¸‹ã¯äººé–“ãƒ¬ãƒ“ãƒ¥ãƒ¼å¿…è¦
```

**ãªãœã“ã®ãƒ«ãƒ¼ãƒ«ãŒå­˜åœ¨ã™ã‚‹ã®ã‹**:

1. **è©•ä¾¡ã¨æ±ºå®šã®åˆ†é›¢**: Planning Layerå…¬ç†A5ã«ã‚ˆã‚Šã€è©•ä¾¡ï¼ˆæ¸¬ã‚‹/æ¨å®šï¼‰ã¨æ±ºå®šï¼ˆé¸ã¶ï¼‰ã¯åˆ†é›¢ã•ã‚Œã¾ã™ã€‚AIã¯è¤‡æ•°ã®è§£æ±ºç­–ã‚’è©•ä¾¡ã§ãã¾ã™ãŒã€æœ€çµ‚çš„ãªé¸æŠã¯äººé–“ãŒè¡Œã„ã¾ã™ã€‚

2. **æ­£è§£ã®ä¸€æ„æ€§ã‚’ä»®å®šã—ãªã„**: Planning Layerã¯ã€Œæ­£è§£ã®ä¸€æ„æ€§ã€ã‚’ä»®å®šã—ã¾ã›ã‚“ã€‚è¤‡æ•°ã®æœ‰åŠ¹ãªè§£æ±ºç­–ãŒå­˜åœ¨ã™ã‚‹å ´åˆã€ã©ã‚Œã‚’é¸ã¶ã‹ã¯ä¾¡å€¤åˆ¤æ–­ã§ã™ã€‚

3. **CREPS Gatesã®å½¹å‰²**: CrePSï¼ˆCreative Problem Solvingï¼‰6-Box ã‚¹ã‚­ãƒ¼ãƒ ã¯ã€Real/Thinkingåˆ†é›¢ãƒ»ã‚²ãƒ¼ãƒˆãƒ»å†ç¾å¯èƒ½è¨˜éŒ²ã‚’æä¾›ã—ã¾ã™ï¼š
   - **G2**: Problem Definitionï¼ˆOutcome/Safetyå†™åƒï¼‰
   - **G3**: Understandingï¼ˆstock/flow/delay/feedback/decision-infoã®5ç‚¹ã‚»ãƒƒãƒˆï¼‰
   - **G4**: Idea Traceabilityï¼ˆLPãƒ¬ãƒ™ãƒ« + å®‰å…¨ãƒã‚§ãƒƒã‚¯ï¼‰
   - **G5**: Concept Feasibilityï¼ˆWait/Freeze/Reviseé‹ç”¨å§¿å‹¢ï¼‰
   - **G6**: Field Validityï¼ˆALè¦³æ¸¬ï¼‰

4. **é–¾å€¤70ç‚¹ã®æ„å‘³**: CREPS Gatesã‚¹ã‚³ã‚¢ãŒ70ç‚¹ä»¥ä¸‹ã®å ´åˆã€ä»¥ä¸‹ã®å•é¡ŒãŒè€ƒãˆã‚‰ã‚Œã¾ã™ï¼š
   - **C: Completenessï¼ˆç¶²ç¾…æ€§ï¼‰ä¸è¶³**: é‡è¦ãªé¸æŠè‚¢ãŒè¦‹è½ã¨ã•ã‚Œã¦ã„ã‚‹
   - **R: Relevanceï¼ˆé–¢é€£æ€§ï¼‰ä¸è¶³**: å•é¡Œå®šç¾©ã¨è§£æ±ºç­–ãŒãšã‚Œã¦ã„ã‚‹
   - **E: Evidenceï¼ˆæ ¹æ‹ ï¼‰ä¸è¶³**: è©•ä¾¡ã®æ ¹æ‹ ãŒå¼±ã„
   - **P: Prioritizationï¼ˆå„ªå…ˆåº¦ï¼‰ä¸è¶³**: å„ªå…ˆé †ä½ãŒä¸æ˜ç¢º
   - **S: Synergyï¼ˆç›¸ä¹—åŠ¹æœï¼‰ä¸è¶³**: è¤‡æ•°ã®è§£æ±ºç­–ã®çµ„ã¿åˆã‚ã›ãŒè€ƒæ…®ã•ã‚Œã¦ã„ãªã„

**ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºä¾‹**:
```yaml
# ã‚ˆã‚Šé«˜å“è³ªã‚’æ±‚ã‚ã‚‹è¨­å®š
creps_gates:
  threshold: 80  # 80ç‚¹ä»¥ä¸‹ã¯äººé–“ãƒ¬ãƒ“ãƒ¥ãƒ¼
```

**ç†è«–çš„èƒŒæ™¯**: Planning Layerã¯ã€ä¾¡å€¤ï¼ˆæ­£è² ï¼‰ãƒ»é¸æŠè‚¢é›†åˆï¼ˆOptionSetï¼‰ãƒ»åˆ¶ç´„ï¼ˆConstraintModelï¼‰ã‚’ã‚‚ã¨ã«ã€æ¡å¦ãƒ»å»¶æœŸãƒ»æ¢ç´¢ç¶™ç¶šã®æ„æ€æ±ºå®šã‚’ç”Ÿæˆã—ã¾ã™ã€‚ã“ã“ã§ã¯ã€Œå˜ä¸€æ¡ˆã¸ã®æ—©æœŸã‚³ãƒŸãƒƒãƒˆã€ã‚’é¿ã‘ã€è¤‡æ•°æ¡ˆã®é›†åˆã¨ã—ã¦ä¿æŒã—ã¾ã™ã€‚

#### Phase 2: Kernel Generationï¼ˆçŸ¥è­˜ç®¡ç†ï¼‰

```yaml
kernel_generation:
  enabled: true
  rationale: "çŸ¥è­˜ã‚’Kernelã¨ã—ã¦è“„ç©"

  convergence_monitoring:
    enabled: true
    threshold: 70  # 70%ä»¥ä¸‹ã§ã‚¢ãƒ©ãƒ¼ãƒˆ
    weekly_check: true

  maturity_transition:
    auto_promote: false  # è‡ªå‹•æ˜‡æ ¼ã¯ç„¡åŠ¹
    require_approval:
      - "under_review -> agreed"
      - "agreed -> frozen"
```

**ãªãœã“ã®ãƒ«ãƒ¼ãƒ«ãŒå­˜åœ¨ã™ã‚‹ã®ã‹**:

1. **SSOTã¯å˜ä¸€ãƒ‡ãƒ¼ã‚¿ã§ã¯ãªããƒ—ãƒ­ãƒˆã‚³ãƒ«**: SSOTï¼ˆSingle Source of Truthï¼‰ã¯ã€Œå˜ä¸€ãƒ‡ãƒ¼ã‚¿ç½®ãå ´ã€ã§ã¯ãªãã€ã€Œæ ¸ãƒ»å¤‰æ›è¦å‰‡ãƒ»çŠ¶æ…‹é·ç§»ãƒ»ä¸å¤‰æ¡ä»¶ãƒ»ç›£æŸ»å¯èƒ½æ€§ã‚’å«ã‚€çµ±æ²»æ§‹é€ ã€ã§ã™ã€‚

2. **æƒ…å ±ãƒœãƒˆãƒ«ãƒãƒƒã‚¯ç†è«–**: æ ¸Kï¼ˆKernelï¼‰ã¯æƒ…å ±ãƒœãƒˆãƒ«ãƒãƒƒã‚¯ã¨ã—ã¦æŒ¯ã‚‹èˆã„ã€ä»¥ä¸‹ã®ãƒˆãƒ¬ãƒ¼ãƒ‰ã‚ªãƒ•ã‚’æ”¯é…ã—ã¾ã™ï¼š
   - **åœ§ç¸®å¼·åº¦**: æ ¸ã‚’è–„ãã™ã‚‹ã»ã©é‹ç”¨ã¯è»½ããªã‚‹ãŒã€æ ¹æ‹ /å†åˆ©ç”¨/ç›£æŸ»é©åˆã‚’å¤±ã„ã‚„ã™ã„
   - **æœ‰ç”¨æ€§**: æˆæœç‰©Bï¼ˆä»•æ§˜ãƒ»å›³ãƒ»å¸³ç¥¨ç­‰ï¼‰ã«å¿…è¦ãªéª¨æ ¼æƒ…å ±ï¼ˆè¦æ±‚â†”è¨­è¨ˆâ†”æ¤œè¨¼ã®éª¨ï¼‰ã¯è½ã¨ã•ãªã„

3. **Convergence Rateï¼ˆåæŸç‡ï¼‰ã®æ„å‘³**: Convergence Rateã¯ã€Œå®Œå…¨ãªKernelï¼ˆNRVVãŒå®Œå…¨ã«æƒã£ã¦ã„ã‚‹ï¼‰ã®å‰²åˆã€ã‚’ç¤ºã—ã¾ã™ã€‚70%ä»¥ä¸‹ã®å ´åˆï¼š
   - **ä¸å®Œå…¨ãªKernelãŒå¤šã„**: Needs/Requirements/Verification/Validationã®ã„ãšã‚Œã‹ãŒæ¬ ã‘ã¦ã„ã‚‹
   - **ãƒˆãƒ¬ãƒ¼ã‚µãƒ“ãƒªãƒ†ã‚£æ¬ è½**: è¦æ±‚â†”è¨­è¨ˆâ†”æ¤œè¨¼ã®é€£é–ãŒåˆ‡ã‚Œã¦ã„ã‚‹
   - **ç›£æŸ»ä¸é©åˆãƒªã‚¹ã‚¯**: ç›£æŸ»é€£é–ãŒè¨¼æ˜ã§ããªã„

4. **ãªãœMaturityè‡ªå‹•æ˜‡æ ¼ã‚’ç„¡åŠ¹ã«ã™ã‚‹ã®ã‹**:
   - **è²¬ä»»ä¸»ä½“ã®å¿…é ˆæ€§**: æˆç†Ÿåº¦é·ç§»ï¼ˆdraft â†’ under_review â†’ agreed â†’ frozenï¼‰ã«ã¯ã€å„æ®µéšã§è²¬ä»»ä¸»ä½“ãŒå¿…è¦ã§ã™
   - **ç›£æŸ»å¯èƒ½æ€§**: èª°ãŒãƒ»ã„ã¤ãƒ»ãªãœæ‰¿èªã—ãŸã‹ãŒè¨˜éŒ²ã•ã‚Œã€ç›£æŸ»é€£é–ãŒæˆç«‹ã—ã¾ã™
   - **å“è³ªã‚²ãƒ¼ãƒˆ**: `under_review -> agreed`ã®é·ç§»ã«ã¯ã€role.ssot_reviewer ã¨ role.product_owner ã®æ‰¿èªãŒå¿…è¦ã§ã™

5. **AIæŠ½å‡ºã®ä½ç½®ä»˜ã‘**:
   ```yaml
   ai_extraction:
     enabled: true
     fallback_to_template: true
   ```
   AIã¯Issueã‹ã‚‰NRVVã‚’ã€Œææ¡ˆã€ã§ãã¾ã™ãŒã€Kernelã¸ã®æ˜‡æ ¼ã¯äººé–“ãŒæ‰¿èªã—ã¾ã™ã€‚ã“ã‚Œã¯ Evidence Governance ã®åŸå‰‡ã«å¾“ã£ã¦ã„ã¾ã™ï¼š
   - `source_type=ai_generated`ã¯`verification_status=verified`ã«ãªã‚‹ã¾ã§Kernelç¬¬ä¸€ç´šè¦ç´ ã¸æ˜‡æ ¼ç¦æ­¢

**ç†è«–çš„èƒŒæ™¯**: SSOT Layerã¯ã€Planning Layerã§ç”Ÿæˆã•ã‚ŒãŸDecisionRecordã‚’æ ¸ï¼ˆKernelï¼‰ã«å›ºå®šã—ã€å¤–ä¹±ï¼ˆè¦æ±‚å¤‰æ›´ãƒ»çµ„ç¹”åœ§ãƒ»æœŸé™çŸ­ç¸®ãƒ»AIç”Ÿæˆç‰©æ··å…¥ç­‰ï¼‰ã‚’çŠ¶æ…‹é·ç§»ã¨ã—ã¦å¸åã—ãªãŒã‚‰ã€ä¸å¤‰æ¡ä»¶Î¦ã¨ãƒˆãƒ¬ãƒ¼ã‚µãƒ“ãƒªãƒ†ã‚£ã‚’ä¿ã£ã¦åå¾©åæŸã•ã›ã¾ã™ã€‚

#### Phase 4-5: Code Generation & Reviewï¼ˆã‚³ãƒ¼ãƒ‰ç”Ÿæˆãƒ»ãƒ¬ãƒ“ãƒ¥ãƒ¼ï¼‰

```yaml
code_generation:
  enabled: true
  quality_threshold: 80  # 80ç‚¹ä»¥ä¸Šã§åˆæ ¼
  generate_tests: true
  test_coverage_target: 80

review_required:
  enabled: true
  rationale: "ç”Ÿæˆã‚³ãƒ¼ãƒ‰ã¯å¿…ãšäººé–“ãŒãƒ¬ãƒ“ãƒ¥ãƒ¼"
  static_analysis: true
  security_scan: true
  min_quality_score: 80
```

**ãªãœã“ã®ãƒ«ãƒ¼ãƒ«ãŒå­˜åœ¨ã™ã‚‹ã®ã‹**:

1. **AIç”Ÿæˆç‰©ã® Evidence Governance**: AIç”Ÿæˆã‚³ãƒ¼ãƒ‰ã¯ã€Œè¨¼æ‹ ï¼ˆEvidenceï¼‰ã€ã¨ã—ã¦æ‰±ã‚ã‚Œã€ä»¥ä¸‹ã®ãƒ—ãƒ­ã‚»ã‚¹ã‚’çµŒã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ï¼š
   ```yaml
   EvidenceItem:
     source_type: ai_generated
     verification_status: unverified â†’ verified
   ```
   `verification_status=verified`ã«ãªã‚‹ã¾ã§ã€Kernelç¬¬ä¸€ç´šè¦ç´ ï¼ˆæœ¬ç•ªãƒ‡ãƒ—ãƒ­ã‚¤å¯èƒ½ãªæˆæœç‰©ï¼‰ã¸æ˜‡æ ¼ã§ãã¾ã›ã‚“ã€‚

2. **å“è³ªé–¾å€¤80ç‚¹ã®æ„å‘³**:
   - **æŠ€è¡“çš„æˆç«‹æ€§**: ã‚³ãƒ¼ãƒ‰ãŒå‹•ä½œã™ã‚‹
   - **ä¿å®ˆæ€§**: äººé–“ãŒç†è§£ãƒ»ä¿®æ­£ã§ãã‚‹
   - **ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£**: åŸºæœ¬çš„ãªè„†å¼±æ€§ãŒãªã„
   - **ãƒ†ã‚¹ãƒˆå¯èƒ½æ€§**: ãƒ†ã‚¹ãƒˆãŒæ›¸ã‘ã‚‹æ§‹é€ ã«ãªã£ã¦ã„ã‚‹

3. **ãªãœäººé–“ãƒ¬ãƒ“ãƒ¥ãƒ¼ãŒå¿…é ˆãªã®ã‹**:
   - **è²¬ä»»ã®æ˜ç¢ºåŒ–**: å“è³ªä¿è¨¼ã®æœ€çµ‚è²¬ä»»ã¯äººé–“ãŒè² ã„ã¾ã™
   - **æ–‡è„ˆç†è§£**: AIã¯ã‚³ãƒ¼ãƒ‰å“è³ªã‚’è©•ä¾¡ã§ãã¾ã™ãŒã€ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯ãƒ»ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£æ•´åˆãƒ»é•·æœŸä¿å®ˆæ€§ã®åˆ¤æ–­ã¯äººé–“ãŒè¡Œã„ã¾ã™
   - **ç›£æŸ»é€£é–**: èª°ãŒãƒ»ã„ã¤ãƒ»ãªãœã‚³ãƒ¼ãƒ‰ã‚’æ‰¿èªã—ãŸã‹ãŒè¨˜éŒ²ã•ã‚Œã€ç›£æŸ»å¯èƒ½æ€§ãŒä¿ãŸã‚Œã¾ã™

4. **é™çš„è§£æã¨ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚¹ã‚­ãƒ£ãƒ³ã®å½¹å‰²**:
   - **é™çš„è§£æ**: ã‚³ãƒ¼ãƒ‰å“è³ªãƒ¡ãƒˆãƒªã‚¯ã‚¹ï¼ˆè¤‡é›‘åº¦ãƒ»é‡è¤‡ãƒ»å‘½åè¦å‰‡ç­‰ï¼‰ã‚’è‡ªå‹•è©•ä¾¡
   - **ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚¹ã‚­ãƒ£ãƒ³**: OWASP Top 10ç­‰ã®è„†å¼±æ€§ã‚’è‡ªå‹•æ¤œå‡º

   ã“ã‚Œã‚‰ã¯AIãŒå¾—æ„ãªã€Œå½¢å¼çš„æ¤œè¨¼ã€ã§ã™ã€‚äººé–“ã¯ã€Œæ„å‘³çš„æ¤œè¨¼ã€ï¼ˆãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯ã®å¦¥å½“æ€§ï¼‰ã«é›†ä¸­ã§ãã¾ã™ã€‚

5. **ãƒ†ã‚¹ãƒˆã‚«ãƒãƒ¬ãƒƒã‚¸80%ã®æ ¹æ‹ **:
   - **ã‚¯ãƒªãƒ†ã‚£ã‚«ãƒ«ãƒ‘ã‚¹ã®ä¿è¨¼**: ä¸»è¦ãªæ©Ÿèƒ½ãƒ•ãƒ­ãƒ¼ãŒãƒ†ã‚¹ãƒˆã•ã‚Œã‚‹
   - **ãƒªã‚°ãƒ¬ãƒƒã‚·ãƒ§ãƒ³é˜²æ­¢**: å°†æ¥ã®å¤‰æ›´ã§æ—¢å­˜æ©Ÿèƒ½ãŒå£Šã‚Œãªã„ã“ã¨ã‚’ä¿è¨¼
   - **ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¨ã—ã¦ã®ãƒ†ã‚¹ãƒˆ**: ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ãŒã€ŒæœŸå¾…å‹•ä½œã®ä»•æ§˜æ›¸ã€ã¨ã—ã¦æ©Ÿèƒ½

**ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºä¾‹**:
```yaml
# å³æ ¼ãªå“è³ªåŸºæº–ï¼ˆãƒŸãƒƒã‚·ãƒ§ãƒ³ã‚¯ãƒªãƒ†ã‚£ã‚«ãƒ«ãªã‚·ã‚¹ãƒ†ãƒ å‘ã‘ï¼‰
code_generation:
  quality_threshold: 90
  test_coverage_target: 90

review_required:
  min_quality_score: 90
```

**ç†è«–çš„èƒŒæ™¯**: SSOT Layerã®Operator Setï¼ˆè¨±ã•ã‚ŒãŸæ“ä½œï¼‰ã«ãŠã„ã¦ã€ã‚³ãƒ¼ãƒ‰ç”Ÿæˆã¯`Î¸_generate`ï¼ˆä»®èª¬ãƒ»æ§‹é€ ãƒ»å€™è£œã®ç”Ÿæˆï¼‰ã¨`Î¸_execute`ï¼ˆæ ¸Kã‹ã‚‰æˆæœç‰©Bã‚’ç”Ÿæˆï¼‰ã«å¯¾å¿œã—ã¾ã™ã€‚ç”Ÿæˆã•ã‚ŒãŸæˆæœç‰©ã¯ã€å¿…ãš`Î¸_learn`ï¼ˆé•åãƒ»æ»ç•™ãƒ»ã‚³ã‚¹ãƒˆã‚’è¦³æ¸¬ã—ã€è¨­è¨ˆã‚’æ›´æ–°ï¼‰ã‚’çµŒç”±ã—ã¦ã€æ ¸Kã«ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ã•ã‚Œã¾ã™ã€‚

#### Phase 8: Continuous Monitoring & Auto Deploymentï¼ˆç›£è¦–ã¨ãƒ‡ãƒ—ãƒ­ã‚¤ï¼‰

```yaml
continuous_monitoring:
  enabled: true
  alert_to_human: true
  rationale: "ç•°å¸¸æ¤œçŸ¥æ™‚ã¯äººé–“ã«ã‚¨ã‚¹ã‚«ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³"
  alert_channels:
    - "github_issue"
    - "log"

auto_deployment:
  enabled: false
  rationale: "ãƒ‡ãƒ—ãƒ­ã‚¤ã¯äººé–“ã®æ˜ç¤ºçš„ãªæ‰¿èªãŒå¿…è¦"
  environments:
    dev:
      enabled: true
      require_approval: false
    staging:
      enabled: true
      require_approval: true
    production:
      enabled: false
      require_approval: true
```

**ãªãœã“ã®ãƒ«ãƒ¼ãƒ«ãŒå­˜åœ¨ã™ã‚‹ã®ã‹**:

1. **Continuous Monitoring**: æœ¬ç•ªç’°å¢ƒã®ç¶™ç¶šçš„ç›£è¦–
   - **alert_to_human**: ç•°å¸¸æ¤œçŸ¥æ™‚ã¯äººé–“ã«ã‚¨ã‚¹ã‚«ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³
   - **alert_channels**: GitHub Issueã‚„ãƒ­ã‚°ã§é€šçŸ¥
   - AIã¯ç•°å¸¸ã‚’æ¤œçŸ¥ã§ãã¾ã™ãŒã€å¯¾å‡¦æ–¹é‡ã®æ±ºå®šã¯äººé–“ãŒè¡Œã„ã¾ã™

2. **Auto Deployment**: ç’°å¢ƒåˆ¥ã®ãƒ‡ãƒ—ãƒ­ã‚¤åˆ¶å¾¡
   - **devç’°å¢ƒ**: è‡ªå‹•ãƒ‡ãƒ—ãƒ­ã‚¤æœ‰åŠ¹ï¼ˆæ‰¿èªä¸è¦ï¼‰
     - é–‹ç™ºè€…ã®ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ãƒ«ãƒ¼ãƒ—ã‚’é«˜é€ŸåŒ–
     - å¤±æ•—ã—ã¦ã‚‚å½±éŸ¿ã¯é™å®šçš„
   - **stagingç’°å¢ƒ**: è‡ªå‹•ãƒ‡ãƒ—ãƒ­ã‚¤æœ‰åŠ¹ï¼ˆæ‰¿èªå¿…è¦ï¼‰
     - æœ¬ç•ªç’°å¢ƒã®ãƒªãƒãƒ¼ã‚µãƒ«
     - QAãƒãƒ¼ãƒ ã«ã‚ˆã‚‹æ¤œè¨¼ãŒå¿…è¦
   - **productionç’°å¢ƒ**: è‡ªå‹•ãƒ‡ãƒ—ãƒ­ã‚¤ç„¡åŠ¹ï¼ˆæ‰¿èªå¿…é ˆï¼‰
     - æœ€ã‚‚æ…é‡ãªé‹ç”¨ãŒå¿…è¦
     - è²¬ä»»ä¸»ä½“ï¼ˆProduct Ownerç­‰ï¼‰ã®æ˜ç¤ºçš„æ‰¿èªãŒå¿…é ˆ

3. **ãªãœãƒ‡ãƒ—ãƒ­ã‚¤ã«äººé–“æ‰¿èªãŒå¿…è¦ãªã®ã‹**:
   - **è²¬ä»»ã®æ˜ç¢ºåŒ–**: ãƒ‡ãƒ—ãƒ­ã‚¤ã®æœ€çµ‚è²¬ä»»ã¯äººé–“ãŒè² ã„ã¾ã™
   - **ãƒ“ã‚¸ãƒã‚¹åˆ¤æ–­**: ãƒ‡ãƒ—ãƒ­ã‚¤ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã¯ã€æŠ€è¡“çš„æˆç«‹æ€§ã ã‘ã§ãªãã€ãƒ“ã‚¸ãƒã‚¹è¦å› ï¼ˆãƒªãƒªãƒ¼ã‚¹è¨ˆç”»ãƒ»ãƒãƒ¼ã‚±ãƒ†ã‚£ãƒ³ã‚°ãƒ»é¡§å®¢èª¿æ•´ï¼‰ã‚’è€ƒæ…®ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™
   - **ãƒªã‚¹ã‚¯ç®¡ç†**: æœ¬ç•ªç’°å¢ƒã¸ã®å½±éŸ¿ã‚’æœ€å°åŒ–ã™ã‚‹ãŸã‚ã€æ®µéšçš„ãªãƒ­ãƒ¼ãƒ«ã‚¢ã‚¦ãƒˆï¼ˆdev â†’ staging â†’ productionï¼‰ã‚’åˆ¶å¾¡ã—ã¾ã™

**ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºä¾‹**:
```yaml
# ã‚ˆã‚Šç©æ¥µçš„ãªè‡ªå‹•åŒ–ï¼ˆCI/CDå¼·åŒ–ï¼‰
auto_deployment:
  environments:
    dev:
      enabled: true
      require_approval: false  # è‡ªå‹•ãƒ‡ãƒ—ãƒ­ã‚¤
    staging:
      enabled: true
      require_approval: false  # è‡ªå‹•ãƒ‡ãƒ—ãƒ­ã‚¤ï¼ˆãƒ†ã‚¹ãƒˆé€šéæ™‚ï¼‰
    production:
      enabled: true
      require_approval: true   # æ‰¿èªãŒå¿…è¦
```

**ç†è«–çš„èƒŒæ™¯**: ãƒ‡ãƒ—ãƒ­ã‚¤ã¯ SSOT Layerã®Operator `Î¸_execute`ï¼ˆæ ¸Kã‹ã‚‰æˆæœç‰©Bã‚’ç”Ÿæˆï¼‰ã®æœ€çµ‚æ®µéšã§ã™ã€‚ãƒ‡ãƒ—ãƒ­ã‚¤åˆ¤æ–­ã¯ã€æŠ€è¡“çš„æˆç«‹æ€§ï¼ˆãƒ†ã‚¹ãƒˆé€šéãƒ»å“è³ªã‚¹ã‚³ã‚¢ï¼‰ã¨ã€ãƒ“ã‚¸ãƒã‚¹ä¾¡å€¤ï¼ˆãƒªãƒªãƒ¼ã‚¹è¨ˆç”»ãƒ»å¸‚å ´ã‚¿ã‚¤ãƒŸãƒ³ã‚°ï¼‰ã®ä¸¡æ–¹ã‚’è€ƒæ…®ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚Planning Layerå…¬ç†A5ã€Œè©•ä¾¡ã¨æ±ºå®šã®åˆ†é›¢ã€ã«ã‚ˆã‚Šã€AIã¯æŠ€è¡“çš„è©•ä¾¡ã‚’è¡Œã„ã€äººé–“ãŒæœ€çµ‚æ±ºå®šã‚’è¡Œã„ã¾ã™ã€‚

### 3. çµ„ç¹”ãƒ«ãƒ¼ãƒ« (`organization_rules`)

çµ„ç¹”ãƒ¬ãƒ™ãƒ«ã®åˆ¶ç´„ã‚’å®šç¾©ã—ã¾ã™ã€‚

```yaml
organization_rules:
  max_issue_complexity: "large"  # small/medium/large/xlarge

  require_approval_for:
    - "breaking changes"
    - "security-related"
    - "architecture changes"
    - "kernel maturity promotion"

  auto_execution_limits:
    max_files_generated: 50
    max_lines_per_file: 1000
    max_deployment_environments: 3

  security_policy:
    scan_dependencies: true
    check_vulnerabilities: true
    require_security_review: true
```

**ãªãœã“ã®ãƒ«ãƒ¼ãƒ«ãŒå­˜åœ¨ã™ã‚‹ã®ã‹**:

1. **Hard Constraintï¼ˆäº¤æ¸‰ä¸èƒ½æ¡ä»¶ï¼‰ã®æ˜ç¤º**: Planning Layerå…¬ç†A2/A3ã«ã‚ˆã‚Šï¼š
   - **A2: ç‰©ç†çš„åˆ¶ç´„ã¯äº¤æ¸‰ä¸å¯èƒ½**: ã‚·ã‚¹ãƒ†ãƒ ã®ç‰©ç†çš„é™ç•Œã¯ä¾¡å€¤åˆ¤æ–­ã§ä¸Šæ›¸ãã§ãã¾ã›ã‚“
   - **A3: è¦ç¯„çš„çœŸå®Ÿã¯å¼·åˆ¶åŠ›ã‚’æŒã¤**: æ³•è¦ãƒ»å®‰å…¨ãƒ»å¥‘ç´„ãªã©ã®å¤–éƒ¨è¦ç¯„ã¯å¼·åˆ¶åŠ›ã‚’æŒã¡ã¾ã™

2. **æ‰¿èªãŒå¿…è¦ãªå¤‰æ›´ã‚¿ã‚¤ãƒ—**:
   - **breaking changes**: æ—¢å­˜ã‚·ã‚¹ãƒ†ãƒ ã¸ã®å½±éŸ¿ãŒå¤§ããã€Backward CompatibilityãŒå¤±ã‚ã‚Œã‚‹
   - **security-related**: ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è¦ä»¶ã¯ Hard Constraint ã§ã™
   - **architecture changes**: ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£å¤‰æ›´ã¯è¤‡æ•°ã®å¢ƒç•Œï¼ˆéƒ¨é–€/ä¼šç¤¾/ç§˜åŒ¿åŒºåˆ†ï¼‰ã«å½±éŸ¿ã—ã¾ã™
   - **kernel maturity promotion**: Kernelæˆç†Ÿåº¦é·ç§»ã¯ç›£æŸ»é€£é–ã«å½±éŸ¿ã™ã‚‹ãŸã‚ã€è²¬ä»»ä¸»ä½“ã®æ‰¿èªãŒå¿…é ˆ

3. **è‡ªå‹•å®Ÿè¡Œåˆ¶é™ã®ç†ç”±**:
   - **max_files_generated: 50**: å¤§é‡ãƒ•ã‚¡ã‚¤ãƒ«ç”Ÿæˆã¯ã€ãƒ¬ãƒ“ãƒ¥ãƒ¼è² è·ãƒ»ãƒ†ã‚¹ãƒˆè² è·ãƒ»CI/CDè² è·ã‚’è€ƒæ…®
   - **max_lines_per_file: 1000**: 1ãƒ•ã‚¡ã‚¤ãƒ«ã‚ãŸã‚Šã®è¡Œæ•°åˆ¶é™ã«ã‚ˆã‚Šã€ä¿å®ˆæ€§ãƒ»ç†è§£æ€§ã‚’ä¿è¨¼
   - **max_deployment_environments: 3**: ç’°å¢ƒå¢—æ®–ã‚’é˜²ãã€é‹ç”¨ã‚³ã‚¹ãƒˆã‚’åˆ¶å¾¡

4. **ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒãƒªã‚·ãƒ¼ã®å¿…é ˆæ€§**:
   - **scan_dependencies**: ä¾å­˜é–¢ä¿‚ã®è„†å¼±æ€§ã‚¹ã‚­ãƒ£ãƒ³ï¼ˆOWASP Dependency Checkç­‰ï¼‰
   - **check_vulnerabilities**: CVEï¼ˆCommon Vulnerabilities and Exposuresï¼‰ãƒã‚§ãƒƒã‚¯
   - **require_security_review**: ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£é–¢é€£å¤‰æ›´ã«ã¯å°‚é–€å®¶ãƒ¬ãƒ“ãƒ¥ãƒ¼ãŒå¿…é ˆ

**ç†è«–çš„èƒŒæ™¯**: çµ„ç¹”ãƒ«ãƒ¼ãƒ«ã¯ã€SSOT Layerã®ä¸å¤‰æ¡ä»¶Î¦ï¼ˆPhiï¼‰ã¨å¯¾å¿œã—ã¾ã™ã€‚ç‰¹ã«`Phi_star`ï¼ˆå…¨ä½“ã¨ã—ã¦ç ´ç¶»ã—ãªã„ãŸã‚ã®æœ€å°ã‚»ãƒƒãƒˆï¼‰ã«ãŠã„ã¦ã€ã€ŒHard constraintï¼ˆç‰©ç†/æ³•è¦/å®‰å…¨/å¥‘ç´„ï¼‰ãŒä¾¡å€¤åˆ¤æ–­ã§ä¸Šæ›¸ãã•ã‚Œãªã„ã€ã“ã¨ãŒä¿è¨¼ã•ã‚Œã¾ã™ã€‚

### 4. ã‚³ã‚¢ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ (`core_architecture`) - NEW

Phase A-Cå®Œäº†ã«ä¼´ã„ã€ã‚·ã‚¹ãƒ†ãƒ ã®æ ¸å¿ƒçš„ãªå‹•ä½œã‚’åˆ¶å¾¡ã™ã‚‹ãƒ«ãƒ¼ãƒ«ã‚’å®šç¾©ã—ã¾ã™ã€‚

```yaml
core_architecture:
  # Kernel Runtimeè¨­å®š
  kernel_runtime:
    default_registry_path: "data/ssot/kernels-luna-base.yaml"
    default_ledger_path: "data/ssot/ledger.ndjson"
    solo_mode_default: false      # ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¯æ¨©é™ãƒã‚§ãƒƒã‚¯æœ‰åŠ¹
    enable_ledger_default: true   # Ledgerè¨˜éŒ²ã‚’æœ‰åŠ¹åŒ–

  # Issueä¸€æœ¬é“ã®å¼·åˆ¶
  issue_enforcement:
    enforce_issue_required: true
    rationale: "ã™ã¹ã¦ã®å¤‰æ›´ã¯IssueçµŒç”±ã§è¡Œã†ï¼ˆãƒˆãƒ¬ãƒ¼ã‚µãƒ“ãƒªãƒ†ã‚£ç¢ºä¿ï¼‰"

  # Bootstrap Kernelä¿è­·
  bootstrap_protection:
    enforce_bootstrap_protection: true
    rationale: "Bootstrap Kernelã¯ä¸å¤‰ï¼ˆã‚·ã‚¹ãƒ†ãƒ ã®æ ¹æœ¬ãƒ«ãƒ¼ãƒ«ï¼‰"

  # AL0ãƒ–ãƒ­ãƒƒã‚¯
  al0_gate:
    enabled: true
    rationale: "AL0ï¼ˆNot Assuredï¼‰ã¯state transitionã‚’ãƒ–ãƒ­ãƒƒã‚¯ï¼ˆå®‰å…¨æ€§åˆ¶ç´„ï¼‰"
```

**ãªãœã“ã®ãƒ«ãƒ¼ãƒ«ãŒå­˜åœ¨ã™ã‚‹ã®ã‹**:

1. **Kernel Runtime**: ã™ã¹ã¦ã®Kernelæ“ä½œã®å˜ä¸€ã‚¨ãƒ³ãƒˆãƒªãƒ¼ãƒã‚¤ãƒ³ãƒˆ
   - **default_registry_path**: Kernelãƒ‡ãƒ¼ã‚¿ã®ä¿å­˜å…ˆï¼ˆSSOTï¼‰
   - **default_ledger_path**: ã‚¤ãƒ™ãƒ³ãƒˆã‚½ãƒ¼ã‚·ãƒ³ã‚°ç”¨ã®Ledgerï¼ˆè¿½è¨˜å°‚ç”¨ãƒ­ã‚°ï¼‰
   - **solo_mode_default**: é–‹ç™ºæ™‚ã¯`true`ã€æœ¬ç•ªã¯`false`ï¼ˆæ¨©é™ãƒã‚§ãƒƒã‚¯æœ‰åŠ¹ï¼‰
   - **enable_ledger_default**: Ledgerè¨˜éŒ²ã‚’æœ‰åŠ¹åŒ–ï¼ˆç›£æŸ»é€£é–ã®åŸºç›¤ï¼‰

2. **Issue Enforcement**: Issueä¸€æœ¬é“ã®å¼·åˆ¶
   - ã™ã¹ã¦ã®Kernelæ“ä½œã¯`issue`ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãŒå¿…é ˆ
   - ãƒˆãƒ¬ãƒ¼ã‚µãƒ“ãƒªãƒ†ã‚£ç¢ºä¿ï¼ˆèª°ãŒãƒ»ãªãœãƒ»ã„ã¤å¤‰æ›´ã—ãŸã‹ï¼‰
   - GitHub Issueã¨Kernelå¤‰æ›´ã®å®Œå…¨ãªç´ä»˜ã‘

3. **Bootstrap Protection**: Bootstrap Kernelã®ä¸å¤‰æ€§
   - Bootstrap Kernelï¼ˆ`BOOTSTRAP-*`ï¼‰ã¯å¤‰æ›´ç¦æ­¢
   - ã‚·ã‚¹ãƒ†ãƒ ã®æ ¹æœ¬ãƒ«ãƒ¼ãƒ«ï¼ˆä¾‹: Issueå¿…é ˆã€AL0ãƒ–ãƒ­ãƒƒã‚¯ï¼‰ã¯ä¸Šæ›¸ãä¸å¯
   - Phase C1ã§å®Ÿè£…

4. **AL0 Gate**: AL0ï¼ˆNot Assuredï¼‰ã®ãƒ–ãƒ­ãƒƒã‚¯
   - AL0åˆ¤å®šã®Kernelã¯çŠ¶æ…‹é·ç§»ã‚’ãƒ–ãƒ­ãƒƒã‚¯
   - SafetyãŒç¢ºä¿ã•ã‚Œã¦ã„ãªã„å ´åˆã€å®Ÿè£…ã‚’é˜²ã
   - é–‹ç™ºãƒ»ãƒ†ã‚¹ãƒˆæ™‚ã¯`enabled: false`ã«è¨­å®šå¯èƒ½

**ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºä¾‹**:
```yaml
# é–‹ç™ºç’°å¢ƒå‘ã‘ï¼ˆæ¨©é™ãƒã‚§ãƒƒã‚¯ã¨AL0ã‚²ãƒ¼ãƒˆã‚’ç„¡åŠ¹åŒ–ï¼‰
core_architecture:
  kernel_runtime:
    solo_mode_default: true      # æ¨©é™ãƒã‚§ãƒƒã‚¯ç„¡åŠ¹
  al0_gate:
    enabled: false               # AL0ã§ã‚‚é·ç§»è¨±å¯
```

### 5. å€‹äººè¨­å®š (`individual_preferences`)

é–‹ç™ºè€…å€‹äººã®å¥½ã¿ã‚’è¨­å®šã—ã¾ã™ã€‚

```yaml
individual_preferences:
  verbose_logging: false
  dry_run_default: false
  notification_level: "important"  # all/important/critical
  ai_assistance_level: "balanced"   # minimal/balanced/maximal
```

### 6. å¤‰æ›´å±¥æ­´ (`change_history`)

ãƒ«ãƒ¼ãƒ«å¤‰æ›´ãŒè‡ªå‹•è¨˜éŒ²ã•ã‚Œã¾ã™ã€‚

```yaml
change_history:
  - timestamp: "2026-01-16T15:30:00Z"
    changed_by: "TechLead"
    rule: "dest_judgment.al_threshold.auto_proceed"
    old_value: "AL3"
    new_value: "AL2"
    rationale: "AL2ã§ã‚‚ååˆ†ãªå“è³ªãŒç¢ºèªã•ã‚ŒãŸãŸã‚"
```

---

## ğŸ› ï¸ ä½¿ã„æ–¹

### åŸºæœ¬çš„ãªä½¿ã„æ–¹

1. **ãƒ«ãƒ¼ãƒ«è¨­å®šã‚’ç¢ºèª**
   ```bash
   cat rules-config.yaml
   ```

2. **ãƒ«ãƒ¼ãƒ«ã‚’ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º**
   ```yaml
   # rules-config.yaml ã‚’ç·¨é›†
   vim rules-config.yaml
   ```

3. **Lunaã‚’å®Ÿè¡Œ**
   ```bash
   npm run run-coordinator -- --issue 40
   ```

   Lunaã¯è‡ªå‹•çš„ã«`rules-config.yaml`ã‚’ãƒ­ãƒ¼ãƒ‰ã—ã€ãƒ«ãƒ¼ãƒ«ã«å¾“ã£ã¦å‹•ä½œã—ã¾ã™ã€‚

### ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‹ã‚‰ä½¿ç”¨ã™ã‚‹å ´åˆ

**é‡è¦**: `ChangeControlAgent` ã¾ãŸã¯ `KernelRuntime` ã‚’ä½œæˆã™ã‚‹å‰ã«ã€å¿…ãš `ensureRulesConfigLoaded()` ã‚’å‘¼ã‚“ã§ãã ã•ã„ã€‚

```typescript
import { ensureRulesConfigLoaded } from './services/rules-config-service';
import { ChangeControlAgent } from './agents/change-control-agent';

async function main() {
  // ãƒ«ãƒ¼ãƒ«è¨­å®šã‚’ç¢ºå®Ÿã«ãƒ­ãƒ¼ãƒ‰
  await ensureRulesConfigLoaded();
  console.log('âœ… Rules configuration loaded');

  // Agentã‚’ä½œæˆ
  const agent = new ChangeControlAgent({
    githubToken: process.env.GITHUB_TOKEN,
    repository: process.env.GITHUB_REPOSITORY,
    verbose: true,
  });

  // å®Ÿè¡Œ
  await agent.execute();
}

main();
```

**ç†ç”±**: `ChangeControlAgent` ã¨ `KernelRuntime` ã¯ã€constructor å†…ã§ rules-config.yaml ã‹ã‚‰è¨­å®šã‚’èª­ã¿è¾¼ã¿ã¾ã™ã€‚`ensureRulesConfigLoaded()` ã‚’äº‹å‰ã«å‘¼ã°ãªã„ã¨ã€ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ã«ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ã—ã€ä»¥ä¸‹ã®è­¦å‘ŠãŒè¡¨ç¤ºã•ã‚Œã¾ã™ï¼š

```
âš ï¸  [ChangeControlAgent] Rules config not loaded! Using default values.
âš ï¸  [KernelRuntime] Rules config not loaded! Using default values.
```

### ç’°å¢ƒå¤‰æ•°ã¨ã®ä½µç”¨ï¼ˆå¾Œæ–¹äº’æ›æ€§ï¼‰

`rules-config.yaml`ãŒå­˜åœ¨ã—ãªã„å ´åˆã€ã¾ãŸã¯å€¤ãŒè¨­å®šã•ã‚Œã¦ã„ãªã„å ´åˆã€ç’°å¢ƒå¤‰æ•°ã«ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ã—ã¾ã™ã€‚

```bash
# ç’°å¢ƒå¤‰æ•°ã§ã®è¨­å®šï¼ˆå¾“æ¥ã®æ–¹æ³•ï¼‰
export ENABLE_DEST_JUDGMENT=false
export ENABLE_PLANNING_LAYER=false
```

**å„ªå…ˆé †ä½**:
1. `rules-config.yaml`ã®å€¤
2. ç’°å¢ƒå¤‰æ•°ã®å€¤
3. ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤

---

## ğŸ“ ã‚ˆãã‚ã‚‹ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º

### 1. DESTã‚’ç„¡åŠ¹åŒ–ï¼ˆãƒ†ã‚¹ãƒˆæ™‚ï¼‰

```yaml
human_ai_boundary:
  dest_judgment:
    enabled: false
    rationale: "ãƒ†ã‚¹ãƒˆç’°å¢ƒã®ãŸã‚DESTç„¡åŠ¹åŒ–"
```

### 2. ã‚ˆã‚Šå³æ ¼ãªå“è³ªåŸºæº–

```yaml
human_ai_boundary:
  code_generation:
    quality_threshold: 90
    test_coverage_target: 90

  review_required:
    min_quality_score: 90
```

### 3. ã‚ˆã‚Šç·©ã„è‡ªå‹•é€²è¡Œï¼ˆé–‹ç™ºæ™‚ï¼‰

```yaml
human_ai_boundary:
  dest_judgment:
    al_threshold:
      auto_proceed: "AL1"  # AL1ã§ã‚‚è‡ªå‹•é€²è¡Œ
```

### 4. Dry-runãƒ¢ãƒ¼ãƒ‰ã‚’ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã«

```yaml
individual_preferences:
  dry_run_default: true
```

---

## âš ï¸ æ³¨æ„äº‹é …

### 1. ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ä¸Šã®æ³¨æ„

- `rules-config.yaml`ã¯Gitã§ç®¡ç†ã•ã‚Œã‚‹ãŸã‚ã€æ©Ÿå¯†æƒ…å ±ã‚’å«ã‚ãªã„ã§ãã ã•ã„
- APIã‚­ãƒ¼ç­‰ã¯å¼•ãç¶šã`.env`ãƒ•ã‚¡ã‚¤ãƒ«ã§ç®¡ç†ã—ã¦ãã ã•ã„

### 2. å¤‰æ›´ã®å½±éŸ¿ç¯„å›²

ãƒ«ãƒ¼ãƒ«å¤‰æ›´ã¯å³åº§ã«åæ˜ ã•ã‚Œã¾ã™ã€‚é‡è¦ãªè¨­å®šå¤‰æ›´å‰ã«ã¯:

1. ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã‚’ä½œæˆ
2. Dry-runãƒ¢ãƒ¼ãƒ‰ã§ãƒ†ã‚¹ãƒˆ
3. å¤‰æ›´å±¥æ­´ã«ç†ç”±ã‚’è¨˜éŒ²

### 3. ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³

Lunaã¯èµ·å‹•æ™‚ã«`rules-config.yaml`ã‚’ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã—ã¾ã™ã€‚

```
âš ï¸  Rules config validation found 1 errors
   - human_ai_boundary.code_generation.quality_threshold: Quality threshold must be between 0 and 100
```

ã‚¨ãƒ©ãƒ¼ãŒã‚ã‚‹å ´åˆã¯ä¿®æ­£ã—ã¦ãã ã•ã„ã€‚

---

## ğŸ”§ ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### Q1: ãƒ«ãƒ¼ãƒ«è¨­å®šãŒåæ˜ ã•ã‚Œãªã„

**A1**: LunaãŒãƒ«ãƒ¼ãƒ«è¨­å®šã‚’ãƒ­ãƒ¼ãƒ‰ã—ã¦ã„ã‚‹ã‹ç¢ºèªã—ã¦ãã ã•ã„ã€‚

```bash
# ãƒ­ã‚°ã§ç¢ºèª
npm run run-coordinator -- --issue 40 --verbose
```

### Q2: ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã‚¨ãƒ©ãƒ¼ãŒå‡ºã‚‹

**A2**: ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ç¢ºèªã—ã€è©²å½“ç®‡æ‰€ã‚’ä¿®æ­£ã—ã¦ãã ã•ã„ã€‚

```yaml
# é–“é•ã„
quality_threshold: 150  # 100ã‚’è¶…ãˆã¦ã„ã‚‹

# æ­£ã—ã„
quality_threshold: 90
```

### Q3: ç’°å¢ƒå¤‰æ•°ã¨ä½µç”¨ã—ãŸã„

**A3**: `rules-config.yaml`ã«å€¤ã‚’è¨­å®šã—ãªã‘ã‚Œã°ã€ç’°å¢ƒå¤‰æ•°ã«ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ã—ã¾ã™ã€‚

```yaml
# å€¤ã‚’è¨­å®šã—ãªã„ï¼ˆç’°å¢ƒå¤‰æ•°ã‚’ä½¿ç”¨ï¼‰
dest_judgment:
  enabled:   # å€¤ãªã— â†’ ç’°å¢ƒå¤‰æ•° ENABLE_DEST_JUDGMENT ã‚’ä½¿ç”¨
```

---

## ğŸ—ºï¸ ç†è«–çµ±åˆãƒãƒƒãƒ—

ã“ã®ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã§ã¯ã€`unified_planning_and_ssot_framework.yaml`ã¨`dest.yaml`ã«è¨˜è¿°ã•ã‚Œã¦ã„ãŸç†è«–ãŒã€`rules-config.yaml`ã®ã©ã®ãƒ«ãƒ¼ãƒ«ã«å¯¾å¿œã—ã¦ã„ã‚‹ã‹ã‚’ç¤ºã—ã¾ã™ã€‚

### DESTç†è«– â†’ rules-config.yaml

| DESTç†è«–ã®è¦ç´  | rules-config.yamlã®å¯¾å¿œ | ç†ç”± |
|--------------|------------------------|------|
| **ALï¼ˆä¿è¨¼ãƒ¬ãƒ™ãƒ«ï¼‰åˆ¤å®š** | `human_ai_boundary.dest_judgment` | å•é¡Œç©ºé–“ã®ä¾¡å€¤åˆ¤æ–­ã¯äººé–“ã®è²¬ä»» |
| **AL0 Reasonï¼ˆå¤±æ•—ãƒ‘ã‚¿ãƒ¼ãƒ³ï¼‰** | `dest_judgment.dest_analysis` | Destination/Effectiveness/Safety/Traceabilityã®4æ¬¡å…ƒåˆ†æ |
| **Protocolï¼ˆæ¨™æº–å‡¦æ–¹ï¼‰** | `dest_judgment.al_threshold` | AL0ã¯å®Ÿè£…ãƒ–ãƒ­ãƒƒã‚¯ã€AL1ã¯äººé–“æ‰¿èªã€AL2ã¯è‡ªå‹•é€²è¡Œ |
| **CrePS 6-Boxï¼ˆB1-B6ï¼‰** | `planning_layer.creps_gates` | Real/Thinkingåˆ†é›¢ã€ã‚²ãƒ¼ãƒˆã€å†ç¾å¯èƒ½è¨˜éŒ² |
| **CrePS Gatesï¼ˆG2-G6ï¼‰** | `planning_layer.creps_gates.threshold` | å“è³ªã‚²ãƒ¼ãƒˆï¼ˆ70ç‚¹ä»¥ä¸‹ã¯äººé–“ãƒ¬ãƒ“ãƒ¥ãƒ¼ï¼‰ |
| **Leverage Pointsï¼ˆä»‹å…¥ç‚¹ï¼‰** | Planning Layerã®`OptionSet`ã«LP levelã‚’è¨˜éŒ² | ä»‹å…¥ç‚¹ã®è³ªã‚’è©•ä¾¡ï¼ˆ12: ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ â†’ 1: ãƒ‘ãƒ©ãƒ€ã‚¤ãƒ è¶…è¶Šï¼‰ |

### Planning Layerç†è«– â†’ rules-config.yaml

| Planning Layerè¦ç´  | rules-config.yamlã®å¯¾å¿œ | ç†ç”± |
|------------------|------------------------|------|
| **A5: è©•ä¾¡ã¨æ±ºå®šã®åˆ†é›¢** | `planning_layer`å…¨ä½“ | AIã¯è©•ä¾¡æ”¯æ´ã€äººé–“ãŒæ±ºå®š |
| **A6: å‰µé€ æ€§ã¯é€¸è„±ã‚’å«ã‚€** | `organization_rules.require_approval_for` | ä¾‹å¤–ã®æ˜ç¤ºçš„æ‰¿èª |
| **A7: å†è©•ä¾¡ã¯åˆ¶å¾¡ã•ã‚Œã‚‹** | `kernel_generation.convergence_monitoring` | ç„¡é™å†è©•ä¾¡ã‚’é˜²ããƒˆãƒªã‚¬ãƒ¼ã¨å½±éŸ¿ç¯„å›² |
| **A8: è²¬ä»»ä¸»ä½“ãŒå¿…é ˆ** | ã™ã¹ã¦ã®`rationale`ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ | å„ãƒ«ãƒ¼ãƒ«ã«ç†ç”±ã¨è²¬ä»»ãŒè¨˜éŒ²ã•ã‚Œã‚‹ |
| **Opportunity** | DESTåˆ¤å®šã®å…¥åŠ› | ä¾¡å€¤ãŒç™ºç”Ÿã—ã†ã‚‹æ©Ÿä¼šã®å®šç¾© |
| **OptionSet** | Planning Layerã§ç”Ÿæˆ | å˜ä¸€æ¡ˆã¸ã®æ—©æœŸã‚³ãƒŸãƒƒãƒˆã‚’é¿ã‘ã‚‹ |
| **ConstraintModel** | `organization_rules` | Hard/Softåˆ¶ç´„ã®åˆ†é›¢ |
| **DecisionRecord** | Kernelã®ç¬¬ä¸€ç´šè¦ç´  | æ±ºå®šã‚’æ ¸ã¨ã—ã¦å›ºå®šï¼ˆä¸»èªãƒ»åè¨¼æ¡ä»¶å¿…é ˆï¼‰ |
| **Assumption** | Kernelå†…ã§ç®¡ç† | å‰æã®åè¨¼ãŒå†è©•ä¾¡ã®ãƒˆãƒªã‚¬ãƒ¼ |

### SSOT Layerç†è«– â†’ rules-config.yaml

| SSOT Layerè¦ç´  | rules-config.yamlã®å¯¾å¿œ | ç†ç”± |
|--------------|------------------------|------|
| **Agent Modelï¼ˆÎ¸æ¼”ç®—å­ï¼‰** | å„Phaseã®enable/disable | ç†è§£ãƒ»ç”Ÿæˆãƒ»å‰²å½“ãƒ»å®Ÿè¡Œãƒ»çµ±åˆãƒ»å­¦ç¿’ |
| **Intent Model** | `individual_preferences.notification_level` | é‹ç”¨ãƒ¢ãƒ¼ãƒ‰ï¼ˆaudit/reuse/speedï¼‰ |
| **Convergence Criteria** | `kernel_generation.convergence_monitoring.threshold` | Î¦é•åå†ç™ºç‡ã€æ»ç•™ã€å½±éŸ¿äºˆæ¸¬å¯èƒ½æ€§ã€ç›£æŸ»å³å¿œæ€§ |
| **Maturity State** | `kernel_generation.maturity_transition` | draft â†’ under_review â†’ agreed â†’ frozen |
| **Evidence Governance** | `review_required` | ai_generatedã¯verifiedã«ãªã‚‹ã¾ã§Kernelæ˜‡æ ¼ç¦æ­¢ |
| **Change Control** | ã™ã¹ã¦ã®ruleå¤‰æ›´ | `change_history`ã«è¨˜éŒ²ã•ã‚Œã‚‹ |
| **Î¦ï¼ˆä¸å¤‰æ¡ä»¶ï¼‰** | `organization_rules` | å‹åˆ¶ç´„ã€å¿…é ˆå±æ€§ã€å¿…é ˆãƒªãƒ³ã‚¯ã€Hard constraint |
| **Operator Setï¼ˆuï¼‰** | Kernelæ“ä½œã®æœ‰é™é›†åˆ | split/merge/retype/rewire/set_state/record_decisionç­‰ |

### ç†è«–ã®3å±¤æ§‹é€ 

Lunaã®çŸ¥è­˜å‰µé€ ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã¯ã€ä»¥ä¸‹ã®3å±¤æ§‹é€ ã§è¨­è¨ˆã•ã‚Œã¦ã„ã¾ã™ï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Problem Space (DESTç†è«–)                â”‚
â”‚ - ALåˆ¤å®šï¼ˆOutcome/Safetyï¼‰               â”‚
â”‚ - AL0 Reasonæ¤œå‡º                        â”‚
â”‚ - Protocolé©ç”¨                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚ å•é¡Œå®šç¾©
             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Solution Space - Planning Layer         â”‚
â”‚ - Opportunityå®šç¾©                        â”‚
â”‚ - OptionSetç”Ÿæˆï¼ˆè¤‡æ•°æ¡ˆï¼‰                â”‚
â”‚ - EvaluationRecordä½œæˆï¼ˆè©•ä¾¡ï¼‰           â”‚
â”‚ - DecisionRecordç™ºè¡Œï¼ˆæ±ºå®šï¼‰             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚ æ„æ€æ±ºå®š
             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Solution Space - SSOT Layer             â”‚
â”‚ - Kernelå›ºå®šï¼ˆDecisionRecordã‚’æ ¸ã«ï¼‰      â”‚
â”‚ - Maturityé·ç§»ï¼ˆdraftâ†’agreedâ†’frozenï¼‰    â”‚
â”‚ - Evidenceçµ±æ²»ï¼ˆAIç”Ÿæˆç‰©ã®æ¤œè¨¼ï¼‰          â”‚
â”‚ - Change Controlï¼ˆå¤–ä¹±ã‚’çŠ¶æ…‹é·ç§»ã«å¸åï¼‰   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### rules-config.yaml ãŒçµ±åˆã™ã‚‹ã‚‚ã®

`rules-config.yaml`ã¯ã€ä»¥ä¸‹ã‚’ä¸€å…ƒç®¡ç†ã—ã¾ã™ï¼š

1. **ç†è«–ã®å®Ÿè£…**: DESTç†è«–ã€Planning Layerç†è«–ã€SSOT Layerç†è«–ã®å®Ÿè£…è¨­å®š
2. **äººé–“-AIè²¬ä»»åˆ†ç•Œ**: å„ãƒ•ã‚§ãƒ¼ã‚ºã§äººé–“ãŒåˆ¤æ–­ã™ã¹ãã“ã¨ã€AIãŒæ”¯æ´ã§ãã‚‹ã“ã¨
3. **å“è³ªã‚²ãƒ¼ãƒˆ**: å„ãƒ•ã‚§ãƒ¼ã‚ºã®å“è³ªé–¾å€¤ã¨ã‚²ãƒ¼ãƒˆæ¡ä»¶
4. **çµ„ç¹”åˆ¶ç´„**: Hard constraintï¼ˆäº¤æ¸‰ä¸å¯èƒ½æ¡ä»¶ï¼‰ã¨Soft constraintï¼ˆé‹ç”¨åˆ¶ç´„ï¼‰
5. **å¤‰æ›´å±¥æ­´**: ãƒ«ãƒ¼ãƒ«å¤‰æ›´ã®ç†ç”±ã¨è²¬ä»»ä¸»ä½“

### çŸ¥è­˜ã®ç§»è¡Œè¨ˆç”»

`unified_planning_and_ssot_framework.yaml`ã¨`dest.yaml`ã«è¨˜è¿°ã•ã‚Œã¦ã„ãŸçŸ¥è­˜ã¯ã€ä»¥ä¸‹ã®ã‚ˆã†ã«ç§»è¡Œã•ã‚Œã¾ã™ï¼š

| å¾“æ¥ã®å ´æ‰€ | æ–°ã—ã„å ´æ‰€ | çŠ¶æ…‹ |
|----------|----------|------|
| dest.yaml ã®ç†è«– | RULES_CONFIGURATION.md ã®ã€Œç†è«–çš„åŸºç›¤ã€ã‚»ã‚¯ã‚·ãƒ§ãƒ³ | âœ… ç§»è¡Œå®Œäº† |
| unified_planning_and_ssot_framework.yaml ã®ç†è«– | RULES_CONFIGURATION.md ã®ã€Œç†è«–çš„åŸºç›¤ã€ã‚»ã‚¯ã‚·ãƒ§ãƒ³ | âœ… ç§»è¡Œå®Œäº† |
| ãƒ«ãƒ¼ãƒ«è¨­å®šï¼ˆç’°å¢ƒå¤‰æ•°ï¼‰ | rules-config.yaml | âœ… ç§»è¡Œå®Œäº† |
| å„ãƒ•ã‚§ãƒ¼ã‚ºã®rationale | rules-config.yaml + RULES_CONFIGURATION.md | âœ… ç§»è¡Œå®Œäº† |

**æœ€çµ‚ç›®æ¨™**: `unified_planning_and_ssot_framework.yaml`ã¨`dest.yaml`ã¯ã€å°†æ¥çš„ã«å‰Šé™¤å¯èƒ½ã§ã™ã€‚ã™ã¹ã¦ã®çŸ¥è­˜ãŒ`rules-config.yaml`ã¨`RULES_CONFIGURATION.md`ã«çµ±åˆã•ã‚Œã¾ã—ãŸã€‚

---

## ğŸ“š é–¢é€£ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

- [README.md](./README.md) - ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦
- [SETUP_GUIDE.md](./SETUP_GUIDE.md) - ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—æ‰‹é †
- [LUNA_VISION_AND_ARCHITECTURE.md](./LUNA_VISION_AND_ARCHITECTURE.md) - ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£è©³ç´°
- [Issue #40](https://github.com/sawadari/luna/issues/40) - ãƒ«ãƒ¼ãƒ«ç®¡ç†æ©Ÿèƒ½ã®å®Ÿè£…Issue

---

## ğŸ¤ è²¢çŒ®

ãƒ«ãƒ¼ãƒ«è¨­å®šã®ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹ã‚„æ”¹å–„æ¡ˆãŒã‚ã‚Œã°ã€Issueã¾ãŸã¯ Pull Requestã§å…±æœ‰ã—ã¦ãã ã•ã„ã€‚

---

## ğŸ“„ ãƒ©ã‚¤ã‚»ãƒ³ã‚¹

ã“ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¯Lunaãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ä¸€éƒ¨ã§ã‚ã‚Šã€MITãƒ©ã‚¤ã‚»ãƒ³ã‚¹ã®ä¸‹ã§å…¬é–‹ã•ã‚Œã¦ã„ã¾ã™ã€‚

---

**æœ€çµ‚æ›´æ–°æ—¥**: 2026-01-16
**ãƒãƒ¼ã‚¸ãƒ§ãƒ³**: 1.0
